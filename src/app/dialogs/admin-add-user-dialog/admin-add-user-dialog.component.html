<main class="admin-add-user-dialog">
  <h5 class="modal-title" id="modal-title-default">{{title}}</h5>

  <p class="py-2 text-primary"> {{msg}}</p>

  <form [formGroup]="formGroup">
      <div class="row">
          <div class="col-12 ">
              <mat-form-field appearance="outline">
                  <mat-label>Usuario</mat-label>
                  <input matInput placeholder="usuario" formControlName="usernameCtrl" required>
              </mat-form-field>
          </div>
      </div>
      <div class="row">
          <div class="col-12">
              <mat-form-field appearance="outline" *ngIf="isPasswordChange">
                  <mat-label>Contraseña nueva</mat-label>
                  <input
                    matInput
                    formControlName="passwordCtrl"
                    [type]="showPassword ? 'text' : 'password'"
                  />
                  <button
                    type="button"
                    matSuffix
                    mat-icon-button
                    (click)="showPassword = !showPassword"
                  >
                    <mat-icon>
                      {{showPassword ? "visibility_off" : "visibility"}}
                    </mat-icon>
                  </button>
                  <mat-error *ngIf="formGroup.controls['password'].hasError('required')">
                    La contraseña es <strong>requerida</strong>
                  </mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline" *ngIf="isPasswordChange">
                  <mat-label>Confirmar nueva contraseña</mat-label>
                  <input
                    matInput
                    formControlName="passwordRepeatCtrl"
                    [type]="showConfirmPassword ? 'text' : 'password'"
                  />
                  <button
                    type="button"
                    matSuffix
                    mat-icon-button
                    (click)="showConfirmPassword = !showConfirmPassword"
                  >
                    <mat-icon>
                      {{showConfirmPassword ? "visibility_off" : "visibility"}}
                    </mat-icon>
                  </button>
                  <mat-error *ngIf="formGroup.controls['password'].hasError('required')">
                    La confirmación de contraseña es <strong>requerida</strong>
                  </mat-error>
              </mat-form-field>
              <div *ngIf="!isPasswordChange" style="margin-bottom: 2rem;" >
                  <button type="button" class="btn btn-default" (click)="isPasswordChange = true">Cambiar Contraseña</button>
              </div>
          </div>
      </div>
      <!-- <div class="row">
          <div class="col-12 col-sm-6 col-md-6">
              <mat-form-field appearance="outline">
                  <mat-label class="text-warning">Repita Contraseña</mat-label>
                  <input  matInput type="password" placeholder="" formControlName="passwordRepeatCtrl" required>
              </mat-form-field>
          </div>
      </div> -->

      <div class="row">
          <div class="col-12">
              <mat-form-field appearance="outline">
                  <mat-label>Nombre</mat-label>
                  <input matInput placeholder="Juan" formControlName="firstNameCtrl" required>
              </mat-form-field>
          </div>
      </div>

      <div class="row">
          <div class="col-12">
              <mat-form-field appearance="outline">
                  <mat-label>Apellido</mat-label>
                  <input matInput placeholder="Perez" formControlName="lastNameCtrl" required>
              </mat-form-field>
          </div>
      </div>

      <div class="row">
          <div class="col-12">
              <mat-form-field appearance="outline">
                  <mat-label>E-mail </mat-label>
                  <input matInput type="email" placeholder="juanperez@mail.com" formControlName="emailCtrl" required>
              </mat-form-field>
          </div>
      </div>
      <div class="row">
          <div class="col-12">
              <mat-form-field appearance="outline">
                  <mat-label>Seleccione un rol</mat-label>
                  <mat-select formControlName="rolCtrl" required>
                      <mat-option *ngFor="let rol of roles" [value]="rol.rol">{{rol.desc}}</mat-option>
                  </mat-select>
              </mat-form-field>
          </div>
      </div>
  </form>

  <div class="pt-3" style="text-align: end;">
      <button type="button" class="btn btn-default" (click)="close(false)">{{btn2}}</button>
      <button type="button" class="btn btn-default" (click)="add()">{{btn}}</button>
  </div>
</main>
